<?xml version="1.0" encoding="ISO-8859-1"?>
<game>
	<pathways>
		<direction name="west">
			<image url="westArrow.jpg"></image>
			<location></location>					
		</direction>
		<direction name="east">
			<image url="eastArrow.jpg"></image>
			<location></location>					
		</direction>
		<direction name="south">
			<image url="southArrow.jpg"></image>
			<location></location>					
		</direction>
		<direction name="north">
			<image url="northArrow.jpg"></image>
			<location></location>					
		</direction>
		<direction name="back">
			<image url="backArrow.jpg"></image>
			<location></location>					
		</direction>
	</pathways>
	<!-- Describes a list of  scenes(camera view) -->
	<scenes>
		<scene name="Room_01_wall01" default="true">
			<!--Possible way outs to another scene or ... -->
			<background>
				<state name="lowLight" default="true">
					<image url="Room_01_wall01_Low_Light.jpg"></image>
					<!-- Possible Actions, an action may require some conditions or the use of a specific item -->						
					<pathway name="west">
						<action event="onClick">
							<command name="changeScene" data="Room_01_wall02">
								<message>going west</message>
							</command>								
						</action>
					</pathway>
					<action event="onLoad">
						<command name="changeObjectVisibility" target="all" data="false">
							<message>Its too dark too see anything!</message>
						</command>								
					</action>
					<action event="onClick">
						<requires><item name="flashLight"></item></requires>						
						<command name="changeBackgroundState" target="this" data="fullLight">
							<message>Opening Lights</message>
						</command>								
					</action>
				</state>
				<state name="fullLight">
					<image url="Room_01_wall01_Full_Light.jpg"></image>
					<!-- Possible Actions, an action may require some conditions or the use of a specific item -->						
					<action event="onLoad">
						<command name="changeObjectVisibility" target="all" data="true">
							<message>Its too dark too see anything!</message>
						</command>								
					</action>
					<action event="onClick">
						<command>
							<message>Nothing Important Here!</message>
						</command>								
					</action>
				</state>
			</background>
			<!-- Possible objects(each object may have some actions ) -->
			<objects>
				<object name="sirtati_01">
					<location></location>
					<states>
						<state name="opened">
							<image url="irtati_01_open.jpg"></image>
							<!-- Possible Actions, an action may require some conditions or the use of a specific item -->						
							<action event="onClick">
								<command name="changeObjectState" target="this" data="closed">
									<message>closing</message>
								</command>								
							</action>
						</state>
						<state name="openedFirstTime">
							<image url="sirtati_01_openFirstTime.jpg"></image>
							<!-- Possible Actions, an action may require some conditions or the use of a specific item -->
							<action event="onLoad">	
								<command name="play" data="video1_01">
									<message>well done!</message>
								</command>							
							</action>
							<action event="onClick">
								<command name="inventoryAdd" data="knife">
									<message>found a knife</message>
								</command>
								<command name="changeObjectState" target="this" data="opened"></command>
							</action>							
						</state>
						<state name="semiOpen">
							<image url="sirtati_01_semiOpen.jpg"></image>
							<action event="onClick">							
								<requires>
									<item name="screwDriver"></item>
									<condition name="condition_FirstTime"></condition>
								</requires>
								<command name="changeObjectState" target="this" data="openedFirstTime">
									<message>opening</message>
								</command>								
							</action>
							<action event="onClick">
								<command name="changeObjectState" target="this" data="opened">
									<message>closing</message>
								</command>	
							</action>						
						</state>
						<state name="closed" default="true">
							<image url="sirtati_01_closed.jpg"></image>
							<action event="onClick">
								<command>
									<message>you need the password and the key!</message>
									<message>it has a key lock!</message>
								</command>
							</action>
							<action event="onClick">
								<requires><item name="key"></item></requires>
								<command name="codeCheck">
									<data><codecheck condition="condition_passwd" password="1243"></codecheck></data>
									<message>the code is common, can you guess?</message>
									<message>the code is numeric 4 characters and start with 1</message>
									<message>it's 1234 idiot!</message>
								</command>							
							</action>
							<action event="onClick">
								<requires><condition name="condition_passwd"></condition></requires>
								<command name="changeObjectState" target="this" data="semiopened"><message>well done, its unlocked</message></command>	
							</action>
						</state>
					</states>
				</object>
			</objects>
		</scene>
	</scenes>
	<inventory>
		<!--Describes all the possible objects-->
		<objects>
			<!-- an item may be disassembly to a set of items -->
			<item name="flashLight">
				<image url="flashLight.jpg"></image>
				<action event="onFocus">
					<command>
						<message>it works!</message>
					</command>
				</action>
				<action event="onClick">
					<command name="popuupImage" data="flashLightHidenMessage.jpg">
						<message>Wow it has a hiden message!</message>
					</command>
				</action>
			</item>
			<item name="flashLightBroken">
			   <image url="flashLightBroken.jpg"></image>
			   <action event="onFocus">
					<command>
						<message>its broken, i can fix it with a battery!</message>
					</command>
				</action>
			</item>
			<item name="battery">
			   <image url="battery.jpg"></image>
			   <action event="onFocus">
					<command>
						<message>a battery,?i wanter where i can use it!</message>
					</command>
				</action>
			</item>
			<item name="screwDriver">
			   <image url="screwDriver.jpg"></image>
			   <action event="onFocus">
					<command>
						<message>its a screw driver!</message>
					</command>
				</action>
			   <message></message>
			</item>
			<action event="onInteract">
				<requires>
					<item name="flashLightBroken"></item>
					<item name="battery"></item>
					<condition name="condition_darkRoom"></condition>
				</requires>
					<command name="inventoryAdd" data="flashLight">
							<message>combined flash light with battery, flash light works.</message>
							<message>yeah!</message>
					</command>
					<command name="inventoryRemove" data="flashLightBroken"></command>
					<command name="inventoryRemove" data="battery"></command>
					<command name="conditionSet"><data name="conditionTransformComplete" status="true"></data></command>
			</action>
		</objects>
	</inventory>
	<!-- A set of videos that may be shown after an action -->
	<videos>
		<video name="video_01" url="intro.mpg"></video>
	</videos>
	
	<!--=========================PLEASE DO NOT EDIT THE FOLLOWING CODE========================-->	
	<!-- Contains Run-time Environment Structures. 
		 This part will automatically changed dynamically during the game run-time
	-->
	<!--=========================PLEASE DO NOT EDIT THE FOLLOWING CODE========================-->
	<runtime>
		<!--Contains the available and selected items of inventory -->
		<inventory>
			<available></available>
			<selected></selected>
		</inventory>
		<!--A general set of conditions(flags) and status(value) of them -->
		<conditions></conditions>
		<!-- Scenes status  -->
		<scenes>
		</scenes>
		<!-- Objects status -->
		<objects>
		</objects>
	</runtime>
</game>
