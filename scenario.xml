<?xml version="1.0" encoding="ISO-8859-1"?>
<game>
	<!-- Describes a list of  scenes(camera view) -->
	<scenes>
		<scene name="Room_01_wall01" firstScene="true">
			<!--Possible way outs to another scene or ... -->
			<pathways>
				<direction>
					<name>west</name>
					<image url="westArrow.jpg"></image>
					<location></location>
					<action event="onClick">
						<command name="changeState" data="Room_01_wall02"><message>going west</message></command>								
					</action>
				</direction>
			</pathways>
			<!-- Possible objects(each object may have some actions ) -->
			<objects>
				<object name="sirtati_01">
					<location></location>
					<!-- this is the initial state, will be changed during runtime -->
					<state>closed</state>
					<states>
						<state name="opened">
							<image url="irtati_01_open.jpg"></image>
							<!-- Possible Actions, an action may require some conditions or the use of a specific item -->						
							<action event="onClick">
								<command name="changeState" data="closed">
									<message>closing</message>
								</command>								
							</action>
						</state>
						<state name="openedFirstTime">
							<image url="sirtati_01_openFirstTime.jpg"></image>
							<!-- Possible Actions, an action may require some conditions or the use of a specific item -->
							<action event="onStateLoad">	
								<command name="play" data="video1_01">
									<message>well done!</message>
								</command>							
							</action>
							<action event="onClick">
								<command name="inventoryAdd" data="knife">
									<message>found a knife</message>
								</command>
								<command name="changeState" data="opened"></command>
							</action>							
						</state>
						<state name="semiOpen">
							<image url="sirtati_01_semiOpen.jpg"></image>
							<action event="onClick">							
								<requires>
									<item name="screwDriver"></item>
									<condition name="condition_FirstTime"></condition>
								</requires>
								<command name="changeState" data="openedFirstTime">
									<message>opening</message>
								</command>								
							</action>
							<action event="onClick">
								<command name="changeState" data="opened">
									<message>closing</message>
								</command>	
							</action>						
						</state>
						<state name="closed">
							<image url="sirtati_01_closed.jpg"></image>
							<action event="onClick">
								<command>
									<message>you need the password and the key!</message>
									<message>it has a key lock!</message>
								</command>
							</action>
							<action event="onClick">
								<requires><item>key</item></requires>
								<command name="insertCode">
									<data><condition>condition_passwd</condition><password>1243</password></data>
									<message>the code is common, can you guess?</message>
									<message>the code is numeric 4 characters and start with 1</message>
									<message>it's 1234 idiot!</message>
								</command>							
							</action>
							<action event="onClick">
								<requires><condition>condition_passwd</condition></requires>
								<command name="changeState" data="semiopened"><message>well done, its unlocked</message></command>	
							</action>
						</state>
					</states>
				</object>
			</objects>
			<background url="/Room_01_wall01/bgImage.jpg"></background>
	
		</scene>
	</scenes>
<!--Describes all the possible objects-->
	<objects>
		<!-- an item may be disassembly to a set of items -->
		<item name="flashLight">
		   <image url="flashLight.jpg"></image>
		   <detailImage>flashLightHidenMessage.jpg</detailImage>
		   <message>it works!</message>
		</item>
		<item name="flashLightBroken">
		   <image url="flashLightBroken.jpg"></image>
		   <message>its broken, i can fix it with a battery!</message>
		</item>
		<item name="battery">
		   <image url="battery.jpg"></image>
		   <message>a battery,?i wanter where i can use it!</message>
		</item>
		<item name="screwDriver">
		   <image url="screwDriver.jpg"></image>
		   <message>its a screw driver!</message>
		</item>
		<interaction>
			<requires>
				<item name="flashLightBroken"></item>
				<item name="battery"></item>
				<condition name="condition_darkRoom"></condition>
			</requires>
				<command name="inventoryAdd" data="flashLight">
						<message>combined flash light with battery, flash light works.</message>
						<message>yeah!</message>
				</command>
				<command name="inventoryRemove" data="flashLightBroken"></command>
				<command name="inventoryRemove" data="battery"></command>	
		</interaction>
	</objects>
	<!-- A set of videos that may be shown after an action -->
	<videos>
		<video name="video_01" url="intro.mpg"></video>
	</videos>
	<!-- Contains Runtime Environment Structures. This part will change dynamic during runtime-->
	<environment>
		<!-- items of inventory -->
		<inventory><item name="flashLightBroken"></item><item name="battery"></item><item name="screwDriver"></item></inventory>
		<!--A general set of conditions(flags) and status(value) of them -->
		<conditions><condition><name>contition_passwd</name><status>false</status></condition></conditions>
		<!-- The current scene  -->
		<scene></scene>
	</environment>
</game>
